<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ config.game_title }} - SpareBank 1 Demo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="sb1-container">
        <!-- SpareBank 1 header med logo -->
        <div class="sb1-header">
            <div class="sb1-logo">
                SpareBank<span class="one">1</span>
            </div>
        </div>

        <div class="sb1-content">
            <!-- Header -->
            <div class="header">
                <h1>{{ config.game_title }}</h1>
                <p class="subtitle">Demo for KI-assistert utvikling</p>
            </div>

            <!-- Score display -->
            <div class="score-display">
                <div>Poeng: <span id="score">0</span></div>
                <div>Beste: <span id="hiScore">0</span></div>
                <div>Liv: <span id="lives">{{ config.player_lives }}</span></div>
            </div>

            <!-- Spill container -->
            <div class="game-container">
                <canvas id="gameCanvas" width="640" height="400"></canvas>
            </div>

            <!-- Instruksjoner -->
            <div class="instructions">
                <p>Piltaster venstre/høyre = Beveg skipet</p>
                <p>Mellomrom = Skyt</p>
                <p>P = Pause | R = Start på nytt</p>
            </div>

            <!-- Kontroller -->
            <div style="text-align: center; margin-top: 20px;">
                <button class="sb1-button" onclick="restartGame()">Start spill</button>
            </div>

            <!-- Footer -->
            <div class="footer">
                <p>Laget med Flask + KI</p>
                <p>Demo for foredrag om KI og psykisk helse</p>
            </div>
        </div>
    </div>

    <!-- Spillkonfigurasjon fra Flask -->
    <script>
        const CONFIG = {
            playerColor: "{{ config.player_color }}",
            enemyColor: "{{ config.enemy_color }}",
            bulletColor: "{{ config.bullet_color }}",
            playerSpeed: {{ config.player_speed }},
            bulletSpeed: {{ config.bullet_speed }},
            enemySpeed: {{ config.enemy_speed }},
            enemyRows: {{ config.enemy_rows }},
            enemyCols: {{ config.enemy_cols }},
            playerLives: {{ config.player_lives }},
            gameTitle: "{{ config.game_title }}",
            enemyImage: "{{ config.enemy_image or '' }}"
        };
    </script>
    <script src="{{ url_for('static', filename='game.js') }}"></script>
</body>
</html>
