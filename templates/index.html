<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ config.game_title }} - C64 Demo</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="c64-border">
        <div class="c64-inner scanlines">
            <!-- C64 BASIC startup tekst -->
            <div class="c64-startup">
                **** COMMODORE 64 BASIC V2 ****<br>
                64K RAM SYSTEM  38911 BASIC BYTES FREE<br><br>
                READY.<span class="cursor"></span>
            </div>

            <!-- Header -->
            <div class="header">
                <h1>{{ config.game_title }}</h1>
                <p class="subtitle">Demo for KI-assistert utvikling</p>
            </div>

            <!-- Score display -->
            <div class="score-display">
                <div>POENG: <span id="score">0</span></div>
                <div>BESTE: <span id="hiScore">0</span></div>
                <div>LIV: <span id="lives">{{ config.player_lives }}</span></div>
            </div>

            <!-- Spill container -->
            <div class="game-container">
                <canvas id="gameCanvas" width="640" height="400"></canvas>
            </div>

            <!-- Instruksjoner -->
            <div class="instructions">
                <p>PILTASTER VENSTRE/HOYRE = BEVEG SKIPET</p>
                <p>MELLOMROM = SKYT</p>
                <p>P = PAUSE | R = START PA NYTT</p>
            </div>

            <!-- Kontroller -->
            <div style="text-align: center; margin-top: 20px;">
                <button class="c64-button" onclick="restartGame()">START SPILL</button>
            </div>

            <!-- Footer -->
            <div class="footer">
                <p>LAGET MED FLASK + KI</p>
                <p>DEMO FOR FOREDRAG OM KI OG PSYKISK HELSE</p>
            </div>
        </div>
    </div>

    <!-- Spillkonfigurasjon fra Flask -->
    <script>
        const CONFIG = {
            playerColor: "{{ config.player_color }}",
            enemyColor: "{{ config.enemy_color }}",
            bulletColor: "{{ config.bullet_color }}",
            playerSpeed: {{ config.player_speed }},
            bulletSpeed: {{ config.bullet_speed }},
            enemySpeed: {{ config.enemy_speed }},
            enemyRows: {{ config.enemy_rows }},
            enemyCols: {{ config.enemy_cols }},
            playerLives: {{ config.player_lives }},
            gameTitle: "{{ config.game_title }}",
            enemyImage: "{{ config.enemy_image or '' }}"
        };
    </script>
    <script src="{{ url_for('static', filename='game.js') }}"></script>
</body>
</html>
